import React, { useState } from 'react';
import { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';
import './PaymentGatewayPage.css'; // Import your CSS file

const PaymentGatewayPage = () => {
  const stripe = useStripe();
  const elements = useElements();
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (event) => {
    event.preventDefault();
    setLoading(true);

    if (!stripe || !elements) {
      return;
    }

    const cardElement = elements.getElement(CardElement);

    const { error, paymentMethod } = await stripe.createPaymentMethod({
      type: 'card',
      card: cardElement,
    });

    if (error) {
      setError(error.message);
      setLoading(false);
    } else {
      console.log('PaymentMethod:', paymentMethod);
      setLoading(false);
    }
  };

  return (
    <div className="payment-container">
      <div className="payment-form">
        <h2>Complete Your Payment</h2>
        <img src="data:image/jpeg;base64,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" alt="Credit Card" className="credit-card-image" />
        <div className="safe-text">
          Your payment is safe and secure.
        </div>
        <form onSubmit={handleSubmit}>
          <label>
            Card details
            <CardElement className="card-element" />
          </label>
          <button type="submit" disabled={loading} className="pay-button">
            {loading ? 'Processing...' : 'Pay Now'}
          </button>
          {error && <div className="error-message">{error}</div>}
        </form>
      </div>
    </div>
  );
};

export default PaymentGatewayPage;
